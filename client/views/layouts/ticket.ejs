<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/output.css">
</head>
<body class="relative overflow-hidden bg-img bg-[url('/images/bannière/michel-caicedo-9cqLeJoS46w-unsplash.jpg')] bg-cover">
    <div class="w-[80vw] h-[85vh] mx-auto py-auto flex-col items-center justify-between" id="description-card">
        <div class="top-di relative py-8">
            <div class="absolute top-16 right-24 z-50">
                <button id="close-description">
                    <i class="fa-solid fa-xmark fa-xl"></i>
                </button>
            </div>
            <div class="absolute rounded-xl bg-white left-1/2 gap-y-4 -translate-x-[50%] flex flex-col items-center px-5 py-10 opacity-95">
                <!-- movies date info -->
                 <% reservations.forEach(reservation => { %>
                    <div class="mx-auto flex flex-col space-y-1 w-fit h-fit">
                        <div class="font-arvo font-bold text-lg text-blueOne text-center tracking-wide movie-date"><%= new Date(reservation.showtime_day).toLocaleDateString('fr-FR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) %></div>
                        <p class="font-arvo font-bold text-sm text-blueOne text-center tracking-wide movie-time"><%= reservation.start_time.substring(0, 5) %></p>
                        <p class="font-arvo font-bold text-xs text-blueOne/45 text-center tracking-wide movie-version">VF</p>
                    </div>
                    <!-- movie and times info -->
                    <div class="w-full flex flex-col items-center justify-between bg-whiteOne shadow-xl rounded-xl pl-5 min-w-60 pb-5">
                        <div class="h-full w-full flex flex-col items-start justify-center space-y-2 py-7">
                            <h1 class="font-bold text-blueOne font-arvo text-lg tracking-wide movie-title"><%= reservation.movie_title %></h1>
                            <div class="flex items-center space-x-3 justify-between mr-5">
                                <p class="text-sm text-blueOne font-arvo movie-duration">Durée <%= reservation.movie_duration %>min</p>
                                <div class="rounded-sm text-sm p-1 bg-blueOne/20 font-arvo text-blueOne movie-end-time text-center">Fin prévue à <%= reservation.end_time.substring(0, 5) %></div>
                            </div>
                        </div>
                        <div class="h-full flex items-center justify-between space-x-4 w-fit">
                            <div class="flex flex-col items-center justify-center space-y-1">
                                <p class="font-bold text-blueOne font-arvo text-lg movie-seats"><%= reservation.seats_reserved.length %> Place</p>
                                <p class="font-arvo font-bold text-lg text-blueOne/45 text-center movie-quality"><%= reservation.film_quality %></p>
                            </div>
                            <div class="w-24 rounded-xl h-full">
                                <img src="/images/Films/blade-runner.png" class="object-cover rounded-xl movie-poster" alt="movie-picture">
                            </div>
                        </div>
                    </div>
                    <!-- theater info -->
                    <div class="container flex flex-col space-y-0.5 min-w-60 flex-wrap">
                        <div class="w-full flex items-center justify-between bg-whiteOne shadow-xl rounded-xl pl-5 space-x-7 px-10">
    
                            <div class="h-full w-fit flex flex-col items-start justify-center space-y-2 py-7">
                                <p class="font-bold text-blueOne font-arvo text-lg tracking-wide cinema-name"><%= reservation.cinema_name %></p>
                                <div class="flex items-start justify-start">
                                    <p class="text-sm tracking-wide text-blueOne font-arvo cinema-location"><%= reservation.cinema_location %></p>
                                </div>
                            </div>
    
                            <div class="h-full flex items-center justify-center space-x-3 w-fit">
                                <div class="flex bg-goldOne w-20 h-14 rounded-xl items-center justify-center">
                                    <p class="text-center text-blueOne text-sm font-arvo font-bold movie-hall">Salle <%= reservation.room_name %></p>
                                </div>
                            </div>
                        </div>
                        <!-- accessibility info -->
                        <div class="w-full flex items-center justify-between bg-whiteOne shadow-xl rounded-xl pl-5">
                            <div class="h-full w-fit flex items-center justify-between space-x-4 py-7">
                                <i class="fa-solid fa-wheelchair-move"></i>
                                <p class="text-sm tracking-wide text-blueOne font-arvo movie-accessibility"><%=  reservation.seat_accessibility  ? 'Accessible aux PMR' : 'Non accessible aux PMR' %></p>
                            </div>
                        </div>
                    </div>
                 <% }) %>
            </div>
        </div>
    </div>

</body>
</html>